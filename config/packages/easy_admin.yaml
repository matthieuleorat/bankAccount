easy_admin:
    formats:
        date:     'd/m/Y'
        time:     'H:i'
        datetime: 'd/m/Y H:i:s'
    entities:
        Transaction:
            class: App\Entity\Transaction
            list:
                actions:
                    - { name: 'create_expense', template: 'admin/transaction/list/action/create_expense_from_transaction_action.html.twig' }
                fields:
                    - date
                    - { property: 'details', template: 'admin/transaction/list/details.html.twig'}
                    - { property: 'expenses', template: 'admin/transaction/list/expenses.html.twig', label: 'Dépenses associées'}
                    - { property: 'montant', template: 'admin/transaction/list/montant.html.twig', label: 'Montant'}
            form:
                fields:
                    - { property: 'date', label: 'Date'}
                    - { property: 'details', label: 'Détail'}
                    - { property: 'debit', label: 'Débit'}
                    - { property: 'credit', label: 'Crédit'}
                    - { property: 'createExpense', type: 'checkbox'}

        TransactionWithoutExpense:
            class: App\Entity\Transaction
            list:
                actions:
                    - { name: 'create_expense', template: 'admin/transaction/list/action/create_expense_from_transaction_action.html.twig' }
                dql_filter: 'entity.expenses is empty'
                fields:
                    - date
                    - { property: 'details', template: 'admin/transaction/list/details.html.twig'}
                    - { property: 'montant', template: 'admin/transaction/list/montant.html.twig', label: 'Montant'}
        Category:
            class: App\Entity\Category
        Source:
            class: App\Entity\Source
        Statement:
            class: App\Entity\Statement
        Expense:
            class: App\Entity\Expense
            controller: App\Controller\Admin\ExpenseController
            list:
                fields:
                    - date
                    - { property: 'label', template: 'admin/transaction/list/details.html.twig'}
                    - category
                    - debit
                    - credit
                    - comment
        DetailsToCategory:
            class: App\Entity\DetailsToCategory
            controller: App\Controller\Admin\DetailsToCategoryAdminController
            list:
                actions: ['apply']

    design:
        menu:
            - { label: 'Categories', entity: 'Category' }
            - { label: 'Sources', entity: 'Source' }
            - label: Transactions
              children:
                - { label: 'Liste', entity: 'Transaction' }
                - { label: 'À classer', entity: 'TransactionWithoutExpense' }
            - label: Dépenses
              children:
                  - {label: liste, entity: 'Expense'}
            - { label: 'Filtres', entity: 'DetailsToCategory' }
            - label: Relevés
              children:
                - { label: 'Liste', entity: 'Statement' }
                - { label: 'Importer', route: 'import_new_statement'}
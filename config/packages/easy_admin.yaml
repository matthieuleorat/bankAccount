easy_admin:
    site_name: 'Mon Budget'
    formats:
        date:     'd/m/Y'
        time:     'H:i'
        datetime: 'd/m/Y H:i:s'
    entities:
        Debt:
            class: App\Entity\Debt
            controller: App\Controller\Admin\DebtController
        Transaction:
            class: App\Entity\Transaction
            list:
                filters: ['statement', 'date']
                actions:
                    - { name: 'create_expense', template: 'admin/transaction/list/action/create_expense_from_transaction_action.html.twig' }
                fields:
                    - date
                    - { property: 'details', template: 'admin/transaction/list/details.html.twig'}
                    - { property: 'expenses', template: 'admin/transaction/list/expenses.html.twig', label: 'Dépenses associées'}
                    - { property: 'montant', template: 'admin/transaction/list/montant.html.twig', label: 'Montant'}
            form:
                fields:
                    - { property: 'date', label: 'Date'}
                    - { property: 'details', label: 'Détail'}
                    - { property: 'debit', label: 'Débit'}
                    - { property: 'credit', label: 'Crédit'}
                    - { property: 'createExpense', type: 'checkbox'}

            show:
                fields:
                    - { property: 'date', label: 'Date'}
                    - { property: 'details', label: 'Détail'}
                    - { property: 'montant', template: 'admin/transaction/list/montant.html.twig', label: 'Montant'}
                    - { property: 'type', template: 'admin/transaction/show/type.html.twig', label: 'Type'}

        TransactionWithoutExpense:
            class: App\Entity\Transaction
            list:
                actions:
                    - { name: 'create_expense', template: 'admin/transaction/list/action/create_expense_from_transaction_action.html.twig' }
                dql_filter: 'entity.expenses is empty'
                fields:
                    - date
                    - { property: 'details', template: 'admin/transaction/list/details.html.twig'}
                    - { property: 'montant', template: 'admin/transaction/list/montant.html.twig', label: 'Montant'}
        Category:
            class: App\Entity\Category
            list:
                fields:
                    - id
                    - name
                    - parent
            form:
                fields:
                    - name
                    - parent
        Source:
            class: App\Entity\Source
        Statement:
            class: App\Entity\Statement
        Expense:
            class: App\Entity\Expense
            controller: App\Controller\Admin\ExpenseController
            list:
                actions:
                    - { name: 'create_debt', template: 'admin/expense/list/action/create_debt_from_expense.html.twig' }
                fields:
                    - date
                    - { property: 'label', template: 'admin/expense/list/details.html.twig'}
                    - category
                    - { property: 'montant', template: 'admin/transaction/list/montant.html.twig', label: 'Montant'}
                    - budget
        DetailsToCategory:
            class: App\Entity\DetailsToCategory
            controller: App\Controller\Admin\DetailsToCategoryAdminController
            list:
                actions: ['apply']
            form:
                fields:
                    #- { type: 'section', label: 'Filtre' }
                    - { type: 'group', columns: 4, label: 'Filtre' }
                    - { property: 'regex', label: 'Nom'}
                    - { property: 'filters', label: 'Filtres', type: 'collection', type_options: { allow_delete: true, allow_add: true, by_reference: false, entry_type: 'App\Form\FilterType'}}
#                    - { type: 'section', label: 'Dépense' }
                    - { type: 'group', columns: 8, label: 'Dépense' }
                    - { property: 'label', label: 'Champ dans lequel prendre le label à associer à la dépense', type: 'App\Form\AttributeSelectionType'}
                    - { property: 'category', label: 'Catégorie'}
                    - { property: 'debit', label: 'Champ dans lequel prendre le montant du débit à la dépense', type: 'App\Form\AttributeSelectionType'}
                    - { property: 'credit', label: 'Champ dans lequel prendre le montant du crédit à la dépense', type: 'App\Form\AttributeSelectionType'}
                    - { property: 'date', label: 'Champ dans lequel prendre la date', type: 'App\Form\AttributeSelectionType'}
                    - { property: 'comment', label: 'Commentaire'}

        Budget:
            class: App\Entity\Budget
            list:
                fields:
                    - { property: 'name', template: 'admin/budget/list/name.html.twig', label: 'Nom'}
    design:
        menu:
            - { label: 'Categories', entity: 'Category' }
            - { label: 'Sources', entity: 'Source' }
            - label: Transactions
              children:
                - { label: 'Liste', entity: 'Transaction' }
                - { label: 'À classer', entity: 'TransactionWithoutExpense' }
            - label: Dépenses
              children:
                  - {label: liste, entity: 'Expense'}
            - { label: 'Filtres', entity: 'DetailsToCategory' }
            - label: Relevés
              children:
                - { label: 'Liste', entity: 'Statement' }
                - { label: 'Importer', route: 'import_new_statement'}
            - { label: 'Budgets', entity: 'Budget'}
            - { label: 'Comptes', entity: 'Debt'}
            - { label: 'Résultats', route: 'resultat'}